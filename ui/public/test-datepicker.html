<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تست تقویم شمسی</title>
    
    <!-- Fonts -->
    <link rel="stylesheet" href="/fonts.css">
    
    <!-- JalaliDatePicker CSS -->
    <link rel="stylesheet" href="/lib/jalalidatepicker/jalalidatepicker.min.css">
    
    <style>
        body {
            font-family: 'iransansx', 'Tahoma', 'Arial', sans-serif;
            direction: rtl;
            padding: 2rem;
            background-color: #f5f5f5;
        }
        
        @supports (font-variation-settings: normal) {
            body {
                font-family: 'iransansxv', 'Tahoma', 'Arial', sans-serif;
            }
        }
        
        .test-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            margin-bottom: 2rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #555;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
            font-size: 1rem;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #569ff7;
        }
        
        /* Apply IranSans to date picker popup */
        body.rtl jdp-container,
        body.rtl jdp-container * {
            font-family: 'iransansx', 'Tahoma', 'Arial', sans-serif !important;
        }
        
        @supports (font-variation-settings: normal) {
            body.rtl jdp-container,
            body.rtl jdp-container * {
                font-family: 'iransansxv', 'Tahoma', 'Arial', sans-serif !important;
            }
        }
        
        .info {
            background: #e3f2fd;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 2rem;
            color: #1976d2;
        }
    </style>
</head>
<body class="rtl">
    <div class="test-container">
        <h1>تست تقویم شمسی JalaliDatePicker</h1>
        
        <div class="info">
            <strong>توجه:</strong> این صفحه برای تست فونت IranSans در تقویم شمسی ایجاد شده است.
            روی هر کدام از فیلدهای زیر کلیک کنید تا تقویم شمسی نمایش داده شود.
        </div>
        
        <div class="form-group">
            <label for="start-date">تاریخ شروع:</label>
            <input 
                type="text" 
                id="start-date" 
                data-id-ref="trend-analysis-start-date-input"
                placeholder="____/__/__ __:__"
                readonly
            >
        </div>
        
        <div class="form-group">
            <label for="end-date">تاریخ پایان:</label>
            <input 
                type="text" 
                id="end-date"
                data-id-ref="trend-analysis-end-date-input"
                placeholder="____/__/__ __:__"
                readonly
            >
        </div>
    </div>
    
    <!-- JalaliDatePicker Script -->
    <script src="/lib/jalalidatepicker/jalalidatepicker.min.js"></script>
    
    <script>
        // Initialize date pickers after library loads
        window.addEventListener('load', function() {
            if (window.jalaliDatepicker) {
                const startInput = document.getElementById('start-date');
                const endInput = document.getElementById('end-date');
                
                const pickerOptions = {
                    time: true,
                    date: true,
                    autoHide: true,
                    hideAfterChange: true,
                    persianDigits: true
                };
                
                startInput.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.jalaliDatepicker.show(startInput, pickerOptions);
                });
                
                startInput.addEventListener('focus', function(e) {
                    e.preventDefault();
                    window.jalaliDatepicker.show(startInput, pickerOptions);
                });
                
                endInput.addEventListener('click', function(e) {
                    e.preventDefault();
                    window.jalaliDatepicker.show(endInput, pickerOptions);
                });
                
                endInput.addEventListener('focus', function(e) {
                    e.preventDefault();
                    window.jalaliDatepicker.show(endInput, pickerOptions);
                });
                
                console.log('✅ JalaliDatePicker initialized successfully');
            } else {
                console.error('❌ JalaliDatePicker library not loaded');
            }
        });
    </script>
</body>
</html>
