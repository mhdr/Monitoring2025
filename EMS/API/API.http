@API_HostAddress = http://localhost:5030
# HTTP development endpoint

###
# EMS API Testing - HTTP Configuration
# 
# This API now operates in HTTP-only mode for simplified development
#
###





### Register a new user - HTTP
POST {{API_HostAddress}}/api/auth/register
Content-Type: application/json

{
  "firstName": "John",
  "lastName": "Doe",
  "firstNameFa": "جان",
  "lastNameFa": "دو",
  "userName": "johndoe",
  "password": "123",
  "confirmPassword": "123"
}

###

### Register a new user - HTTPS
POST {{API_HostAddress}}/api/auth/register
Content-Type: application/json

{
  "firstName": "Jane",
  "lastName": "Smith",
  "firstNameFa": "جین",
  "lastNameFa": "اسمیت",
  "userName": "janesmith",
  "password": "456",
  "confirmPassword": "456"
}

###

### Login with registered user - HTTP
# @name loginUserHTTP
# 
# TROUBLESHOOTING SSL ISSUES:
# If you get "PKIX path building failed" or SSL handshake exceptions:
#
# METHOD 1: Use HTTPS directly (recommended)
# Use the HTTPS endpoint below instead of HTTP
#
# METHOD 2: Disable HTTPS redirection temporarily
# Set "Development:DisableHttpsRedirection": true in appsettings.Development.json
# Then restart the API server
#
# METHOD 3: Configure VS Code REST Client to trust self-signed certificates
# Add to VS Code settings.json:
# {
#   "rest-client.certificates": {
#     "localhost:7136": {
#       "cert": "./certificates/api-cert.pem",
#       "key": "./certificates/api-key.pem"
#     }
#   }
# }
#
# METHOD 4: Disable SSL verification (UNSAFE - for testing only)
# Add to VS Code settings.json: "rest-client.rejectUnauthorized": false
#
POST {{API_HostAddress}}/api/auth/login
Content-Type: application/json

{
  "userName": "mahmood2",
  "password": "12345",
  "rememberMe": true
}

###

### Login with registered user - HTTPS
# @name loginUserHTTPS
POST {{API_HostAddress}}/api/auth/login
Content-Type: application/json

{
  "userName": "mahmood2",
  "password": "12345",
  "rememberMe": true
}

###

### Extract tokens from login responses
@authTokenHTTP = {{loginUserHTTP.response.body.accessToken}}
@authTokenHTTPS = {{loginUserHTTPS.response.body.accessToken}}



### Get current user info using JWT token - HTTP
GET {{API_HostAddress}}/api/auth/me
Accept: application/json
Authorization: Bearer {{authTokenHTTP}}

###

### Get current user info using JWT token - HTTPS
GET {{API_HostAddress}}/api/auth/me
Accept: application/json
Authorization: Bearer {{authTokenHTTPS}}

###

### Test refresh token - HTTP (use actual tokens from login response)
POST {{API_HostAddress}}/api/auth/refresh-token
Content-Type: application/json

{
  "accessToken": "{{authTokenHTTP}}",
  "refreshToken": "replace_with_actual_refresh_token_from_login_response"
}

###

### Test refresh token - HTTPS (use actual tokens from login response)
POST {{API_HostAddress}}/api/auth/refresh-token
Content-Type: application/json

{
  "accessToken": "{{authTokenHTTPS}}",
  "refreshToken": "replace_with_actual_refresh_token_from_login_response"
}

###

### Logout - HTTP (requires auth)
POST {{API_HostAddress}}/api/auth/logout
Authorization: Bearer {{authTokenHTTP}}

###

### Logout - HTTPS (requires auth)
POST {{API_HostAddress}}/api/auth/logout
Authorization: Bearer {{authTokenHTTPS}}

###

### Test registration with duplicate username - should return error - HTTP
POST {{API_HostAddress}}/api/auth/register
Content-Type: application/json

{
  "firstName": "Jane",
  "lastName": "Smith",
  "firstNameFa": "جین",
  "lastNameFa": "اسمیت",
  "userName": "johndoe",
  "password": "456",
  "confirmPassword": "456"
}

###

### Test login with invalid credentials - should return 401 - HTTP
POST {{API_HostAddress}}/api/auth/login
Content-Type: application/json

{
  "userName": "johndoe",
  "password": "WrongPassword",
  "rememberMe": false
}

###

### Test login with invalid credentials - should return 401 - HTTPS
POST {{API_HostAddress}}/api/auth/login
Content-Type: application/json

{
  "userName": "janesmith",
  "password": "WrongPassword",
  "rememberMe": false
}

###

### Update current user information - HTTP
PUT {{API_HostAddress}}/api/auth/update-user
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "firstName": "John Updated",
  "lastName": "Doe Updated",
  "firstNameFa": "جان بروزرسانی شده",
  "lastNameFa": "دو بروزرسانی شده"
}

###

### Update current user information - HTTPS
PUT {{API_HostAddress}}/api/auth/update-user
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "firstName": "Jane Updated",
  "lastName": "Smith Updated",
  "firstNameFa": "جین بروزرسانی شده",
  "lastNameFa": "اسمیت بروزرسانی شده"
}

###

### Update another user's information (Admin only - will return 403 for regular users) - HTTP
PUT {{API_HostAddress}}/api/auth/update-user/user_id_here
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "firstName": "Another User Updated",
  "lastName": "LastName Updated"
}

###

### Disable a user (Admin functionality) - HTTP
POST {{API_HostAddress}}/api/auth/disable-user
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "userId": "user_id_to_disable_here",
  "disable": true,
  "reason": "User violated terms of service"
}

###

### Enable a user (Admin functionality) - HTTP
POST {{API_HostAddress}}/api/auth/disable-user
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "userId": "user_id_to_enable_here",
  "disable": false,
  "reason": "User issue has been resolved"
}

###

### Change current user's password - HTTP
POST {{API_HostAddress}}/api/auth/change-password
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "currentPassword": "12345",
  "newPassword": "newPassword123"
}

###

### Change current user's password - HTTPS
POST {{API_HostAddress}}/api/auth/change-password
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "currentPassword": "456",
  "newPassword": "newPassword456"
}

###

### Reset a user's password to default (Admin functionality) - HTTP
POST {{API_HostAddress}}/api/auth/reset-password
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "userName": "johndoe"
}

###

### Reset a user's password to default (Admin functionality) - HTTPS
POST {{API_HostAddress}}/api/auth/reset-password
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "userName": "janesmith"
}

###

#################################################################################
# MONITORING CONTROLLER - GROUPS ENDPOINTS
#################################################################################

### Get groups accessible to current user - HTTP
POST {{API_HostAddress}}/api/monitoring/Groups
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

###

### Get groups accessible to current user - HTTPS
POST {{API_HostAddress}}/api/monitoring/Groups
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

###

### Add new group - HTTP
POST {{API_HostAddress}}/api/monitoring/AddGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "name": "Production Servers",
  "nameFa": "سرورهای تولید",
  "parentId": null
}

###

### Add new group - HTTPS
POST {{API_HostAddress}}/api/monitoring/AddGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "name": "Development Servers",
  "nameFa": "سرورهای توسعه",
  "parentId": null
}

###

### Add new sub-group - HTTP
POST {{API_HostAddress}}/api/monitoring/AddGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "name": "Web Servers",
  "nameFa": "سرورهای وب",
  "parentId": "replace_with_actual_parent_group_id"
}

###

### Add new sub-group - HTTPS
POST {{API_HostAddress}}/api/monitoring/AddGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "name": "Database Servers",
  "nameFa": "سرورهای پایگاه داده",
  "parentId": "replace_with_actual_parent_group_id"
}

###

### Add group without Farsi name - HTTP
POST {{API_HostAddress}}/api/monitoring/AddGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "name": "Building A - HVAC System"
}

###

### Edit existing group - HTTP (name only)
POST {{API_HostAddress}}/api/monitoring/EditGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "replace_with_actual_group_id",
  "name": "Updated Group Name"
}

###

### Edit existing group - HTTPS (name only)
POST {{API_HostAddress}}/api/monitoring/EditGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "id": "replace_with_actual_group_id",
  "name": "Updated Group Name HTTPS"
}

###

### Edit existing group with Farsi name - HTTP
POST {{API_HostAddress}}/api/monitoring/EditGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "replace_with_actual_group_id",
  "name": "Production Servers - Updated",
  "nameFa": "سرورهای تولید - به‌روزرسانی شده"
}

###

### Edit existing group with Farsi name - HTTPS
POST {{API_HostAddress}}/api/monitoring/EditGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "id": "replace_with_actual_group_id",
  "name": "Development Servers - Updated",
  "nameFa": "سرورهای توسعه - به‌روزرسانی شده"
}

###

### Delete empty group - HTTP
# IMPORTANT: Groups (folders) must be empty before deletion
# This operation will fail if:
# - The group has any child groups (subfolders)
# - The group has any monitoring items assigned to it
# 
# Before deleting, ensure:
# 1. Move or delete all child groups to other locations
# 2. Move or delete all monitoring items to other groups
# 3. Verify the group is completely empty
#
# Expected success response:
# {
#   "success": true,
#   "message": "Monitoring group deleted successfully"
# }
#
# Expected error responses:
# - Group has children: error = "GroupHasChildren"
# - Group has items: error = "GroupHasItems"
# - Group has both: error = "GroupNotEmpty"
# - Group not found: 404 with error = "GroupNotFound"
POST {{API_HostAddress}}/api/monitoring/DeleteGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "replace_with_actual_group_id"
}

###

### Delete empty group - HTTPS
# See comments in HTTP version above for detailed information
POST {{API_HostAddress}}/api/monitoring/DeleteGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "id": "replace_with_actual_group_id"
}

###

### Move group to another parent - HTTP
POST {{API_HostAddress}}/api/monitoring/MoveGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "groupId": "replace_with_group_id",
  "parentId": "replace_with_parent_group_id"
}

###

### Move group to another parent - HTTPS
POST {{API_HostAddress}}/api/monitoring/MoveGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "groupId": "replace_with_group_id",
  "parentId": "replace_with_parent_group_id"
}

###

### Move group to root level (no parent) - HTTP
POST {{API_HostAddress}}/api/monitoring/MoveGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "groupId": "replace_with_group_id",
  "parentId": null
}

###

### Move group to root level (no parent) - HTTPS
POST {{API_HostAddress}}/api/monitoring/MoveGroup
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "groupId": "replace_with_group_id",
  "parentId": null
}

###

#################################################################################
# MONITORING CONTROLLER - ITEM ENDPOINTS
#################################################################################

### Get single item by ID - HTTP
POST {{API_HostAddress}}/api/monitoring/GetItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Get single item by ID - HTTPS
POST {{API_HostAddress}}/api/monitoring/GetItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Add new monitoring item - HTTP
POST {{API_HostAddress}}/api/monitoring/AddItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemType": "AnalogInput",
  "itemName": "Temperature Sensor 1",
  "itemNameFa": "دمای سنسور 1",
  "pointNumber": 101,
  "shouldScale": "Yes",
  "normMin": 0,
  "normMax": 100,
  "scaleMin": -50,
  "scaleMax": 150,
  "saveInterval": 60,
  "saveHistoricalInterval": 300,
  "calculationMethod": "Average",
  "numberOfSamples": 10,
  "saveOnChange": "Disabled",
  "saveOnChangeRange": 5.0,
  "onText": "Running",
  "onTextFa": "در حال اجرا",
  "offText": "Stopped",
  "offTextFa": "متوقف",
  "unit": "°C",
  "unitFa": "درجه سانتی‌گراد",
  "isDisabled": false,
  "isCalibrationEnabled": true,
  "calibrationA": 1.0,
  "calibrationB": 0.0,
  "interfaceType": "Modbus",
  "isEditable": true,
  "parentGroupId": null
}

###

### Add new monitoring item - HTTPS
POST {{API_HostAddress}}/api/monitoring/AddItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "itemType": "DigitalInput",
  "itemName": "Pump Status",
  "itemNameFa": "وضعیت پمپ",
  "pointNumber": 102,
  "shouldScale": "No",
  "normMin": 0,
  "normMax": 1,
  "scaleMin": 0,
  "scaleMax": 1,
  "saveInterval": 10,
  "saveHistoricalInterval": 60,
  "calculationMethod": "Last",
  "numberOfSamples": 1,
  "saveOnChange": "Disabled",
  "saveOnChangeRange": 0,
  "onText": "Running",
  "onTextFa": "در حال کار",
  "offText": "Stopped",
  "offTextFa": "متوقف",
  "unit": "",
  "unitFa": "",
  "isDisabled": false,
  "isCalibrationEnabled": false,
  "calibrationA": 1.0,
  "calibrationB": 0.0,
  "interfaceType": "Modbus",
  "isEditable": false,
  "parentGroupId": "550e8400-e29b-41d4-a716-446655440001"
}

###

### Edit existing monitoring item - HTTP
POST {{API_HostAddress}}/api/monitoring/EditItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "itemType": "AnalogInput",
  "itemName": "Temperature Sensor 1 - Updated",
  "itemNameFa": "دمای سنسور 1 - بروزرسانی شده",
  "pointNumber": 101,
  "shouldScale": "Yes",
  "normMin": 0,
  "normMax": 100,
  "scaleMin": -40,
  "scaleMax": 140,
  "saveInterval": 30,
  "saveHistoricalInterval": 300,
  "calculationMethod": "Average",
  "numberOfSamples": 15,
  "saveOnChange": "Enabled",
  "saveOnChangeRange": 3.0,
  "onText": "Active",
  "onTextFa": "فعال",
  "offText": "Inactive",
  "offTextFa": "غیرفعال",
  "unit": "°C",
  "unitFa": "درجه سانتی‌گراد",
  "isDisabled": false,
  "isCalibrationEnabled": true,
  "calibrationA": 1.05,
  "calibrationB": -0.5,
  "interfaceType": "Modbus",
  "isEditable": true
}

###

### Edit existing monitoring item - HTTPS
POST {{API_HostAddress}}/api/monitoring/EditItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "itemType": "AnalogInput",
  "itemName": "Pressure Sensor",
  "itemNameFa": "سنسور فشار",
  "pointNumber": 103,
  "shouldScale": "Yes",
  "normMin": 0,
  "normMax": 10,
  "scaleMin": 0,
  "scaleMax": 100,
  "saveInterval": 15,
  "saveHistoricalInterval": 60,
  "calculationMethod": "Average",
  "numberOfSamples": 5,
  "saveOnChange": "Disabled",
  "saveOnChangeRange": 0,
  "onText": "",
  "onTextFa": "",
  "offText": "",
  "offTextFa": "",
  "unit": "bar",
  "unitFa": "بار",
  "isDisabled": false,
  "isCalibrationEnabled": false,
  "calibrationA": 1.0,
  "calibrationB": 0.0,
  "interfaceType": "Modbus",
  "isEditable": true
}

###

### Delete monitoring item - HTTP
POST {{API_HostAddress}}/api/monitoring/DeleteItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Delete monitoring item - HTTPS
POST {{API_HostAddress}}/api/monitoring/DeleteItem
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "id": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Move Point to Different Group - HTTP
POST {{API_HostAddress}}/api/monitoring/MovePoint
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "pointId": "550e8400-e29b-41d4-a716-446655440000",
  "parentId": "550e8400-e29b-41d4-a716-446655440001"
}

###

### Move Point to Different Group - HTTPS
POST {{API_HostAddress}}/api/monitoring/MovePoint
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "pointId": "550e8400-e29b-41d4-a716-446655440000",
  "parentId": "550e8400-e29b-41d4-a716-446655440001"
}

###

### Get Alarms (all items) - HTTP
POST {{API_HostAddress}}/api/monitoring/alarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemIds": []
}

###

### Get Alarms (all items) - HTTPS
POST {{API_HostAddress}}/api/monitoring/alarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "itemIds": []
}

###

### Get Alarms (specific items) - HTTP
POST {{API_HostAddress}}/api/monitoring/alarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemIds": ["550e8400-e29b-41d4-a716-446655440001", "550e8400-e29b-41d4-a716-446655440002"]
}

###

### Get Alarms (specific items) - HTTPS
# Response includes Message (English) and MessageFa (Farsi) properties
POST {{API_HostAddress}}/api/monitoring/alarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "itemIds": ["550e8400-e29b-41d4-a716-446655440001"]
}

###

### Get Active Alarms (all items) - HTTP
POST {{API_HostAddress}}/api/monitoring/activealarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemIds": []
}

###

### Get Active Alarms (all items) - HTTPS
POST {{API_HostAddress}}/api/monitoring/activealarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "itemIds": []
}

###

### Get Active Alarms (specific items) - HTTP
POST {{API_HostAddress}}/api/monitoring/activealarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemIds": ["3fa85f64-5717-4562-b3fc-2c963f66afa6", "4fa85f64-5717-4562-b3fc-2c963f66afa7"]
}

###

### Get Active Alarms (specific items) - HTTPS
POST {{API_HostAddress}}/api/monitoring/activealarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "itemIds": ["3fa85f64-5717-4562-b3fc-2c963f66afa6"]
}

###

### Get Active Alarms (null itemIds - should retrieve all) - HTTP
POST {{API_HostAddress}}/api/monitoring/activealarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
}

###

### Get Active Alarms (unauthorized - should return 401)
POST {{API_HostAddress}}/api/monitoring/activealarms
Content-Type: application/json

{
  "itemIds": []
}

###

### Add Alarm - Critical High Temperature (Comparative, Greater Than) - HTTP
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000",
  "isDisabled": false,
  "alarmDelay": 5,
  "message": "High temperature detected - immediate action required",
  "value1": "80.0",
  "value2": null,
  "timeout": null,
  "alarmType": 1,
  "alarmPriority": 0,
  "compareType": 2
}

###

### Add Alarm - Critical High Temperature (Comparative, Greater Than) - HTTPS
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000",
  "isDisabled": false,
  "alarmDelay": 5,
  "message": "High temperature detected - immediate action required",
  "value1": "80.0",
  "value2": null,
  "timeout": null,
  "alarmType": 1,
  "alarmPriority": 0,
  "compareType": 2
}

###

### Add Alarm - Medium Priority Pressure Range (Comparative, Between) - HTTP
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440001",
  "isDisabled": false,
  "alarmDelay": 10,
  "message": "Pressure out of acceptable range",
  "value1": "50.0",
  "value2": "100.0",
  "timeout": null,
  "alarmType": 1,
  "alarmPriority": 2,
  "compareType": 6
}

###

### Add Alarm - Timeout Alarm (No Data Received) - HTTP
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440005",
  "isDisabled": false,
  "alarmDelay": 0,
  "message": "Communication timeout - no data received for 5 minutes",
  "value1": null,
  "value2": null,
  "timeout": 300,
  "alarmType": 2,
  "alarmPriority": 1,
  "compareType": 0
}

###

### Add Alarm - Digital Alarm (Comparative, Equal) - HTTP
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440002",
  "isDisabled": false,
  "alarmDelay": 0,
  "message": "Door opened",
  "value1": "true",
  "value2": null,
  "timeout": null,
  "alarmType": 1,
  "alarmPriority": 3,
  "compareType": 0
}

###

### Add Alarm - Low Priority Out of Range (Comparative, OutOfRange) - HTTP
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440003",
  "isDisabled": false,
  "alarmDelay": 30,
  "message": "Value outside acceptable range",
  "value1": "0.0",
  "value2": "200.0",
  "timeout": 7200,
  "alarmType": 1,
  "alarmPriority": 3,
  "compareType": 7
}

###

### Add Alarm - Disabled Alarm (won't trigger) - HTTP
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440004",
  "isDisabled": true,
  "alarmDelay": 5,
  "message": "This alarm is currently disabled for testing",
  "value1": "100.0",
  "value2": null,
  "timeout": null,
  "alarmType": 1,
  "alarmPriority": 1,
  "compareType": 2
}

###

### Add Alarm - Validation Error (missing itemId) - should return 400
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "isDisabled": false,
  "alarmDelay": 5,
  "message": "This should fail validation",
  "value1": "80.0",
  "alarmType": 1,
  "alarmPriority": 0,
  "compareType": 2
}

###

### Add Alarm - Validation Error (excessive alarm delay) - should return 400
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000",
  "isDisabled": false,
  "alarmDelay": 5000,
  "message": "Alarm delay exceeds maximum allowed value",
  "value1": "80.0",
  "alarmType": 1,
  "alarmPriority": 0,
  "compareType": 2
}

###

### Add Alarm - Non-existent Item - should return 404
POST {{API_HostAddress}}/api/monitoring/AddAlarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "itemId": "00000000-0000-0000-0000-000000000000",
  "isDisabled": false,
  "alarmDelay": 5,
  "message": "This item does not exist",
  "value1": "80.0",
  "alarmType": 1,
  "alarmPriority": 0,
  "compareType": 2
}

###

### Get Alarm History (all items, last 24 hours) - HTTP
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": []
}

###

### Get Alarm History (all items, last 24 hours) - HTTPS
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": []
}

###

### Get Alarm History with Pagination (first page, 100 records) - HTTP
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": [],
  "page": 1,
  "pageSize": 100
}

###

### Get Alarm History with Pagination (second page, 50 records) - HTTP
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": [],
  "page": 2,
  "pageSize": 50
}

###

### Get Alarm History with Pagination (specific items, paginated) - HTTPS
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": ["550e8400-e29b-41d4-a716-446655440001", "550e8400-e29b-41d4-a716-446655440002"],
  "page": 1,
  "pageSize": 25
}

###

### Get Alarm History (specific items) - HTTP
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": ["550e8400-e29b-41d4-a716-446655440001", "550e8400-e29b-41d4-a716-446655440002"]
}

###

### Get Alarm History (specific items) - HTTPS
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": ["550e8400-e29b-41d4-a716-446655440001"]
}

###

### Get Alarm History (invalid date range - should return 400)
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "startDate": 1697673600,
  "endDate": 1697587200,
  "itemIds": []
}

###

### Get Alarm History (unauthorized - should return 401)
POST {{API_HostAddress}}/api/monitoring/historyalarms
Content-Type: application/json

{
  "startDate": 1697587200,
  "endDate": 1697673600,
  "itemIds": []
}

###

### ========================================
### External Alarm Configuration Endpoints
### ========================================

### Get External Alarms for a Specific Alarm - HTTP
POST {{API_HostAddress}}/api/monitoring/getexternalalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Get External Alarms for a Specific Alarm - HTTPS
POST {{API_HostAddress}}/api/monitoring/getexternalalarms
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Get External Alarms - Error Case (Invalid Alarm ID)
POST {{API_HostAddress}}/api/monitoring/getexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "00000000-0000-0000-0000-000000000000"
}

###

### Get External Alarms - Error Case (Missing Alarm ID - Validation Failure)
POST {{API_HostAddress}}/api/monitoring/getexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
}

###

### Get External Alarms - Error Case (Unauthorized - No Token)
POST {{API_HostAddress}}/api/monitoring/getexternalalarms
Content-Type: application/json

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Add External Alarm - HTTP
# Add a new external alarm to trigger an indicator light when parent alarm activates
POST {{API_HostAddress}}/api/monitoring/addexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000",
  "itemId": "750e8400-e29b-41d4-a716-446655440002",
  "value": true,
  "isDisabled": false
}

###

### Add External Alarm - HTTPS
POST {{API_HostAddress}}/api/monitoring/addexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000",
  "itemId": "850e8400-e29b-41d4-a716-446655440003",
  "value": false,
  "isDisabled": false
}

###

### Add External Alarm - Error Case (Invalid Alarm ID - Should Return 400)
POST {{API_HostAddress}}/api/monitoring/addexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "alarmId": "00000000-0000-0000-0000-000000000000",
  "itemId": "750e8400-e29b-41d4-a716-446655440002",
  "value": true,
  "isDisabled": false
}

###

### Add External Alarm - Error Case (Invalid Item ID - Should Return 400)
POST {{API_HostAddress}}/api/monitoring/addexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000",
  "itemId": "00000000-0000-0000-0000-000000000000",
  "value": true,
  "isDisabled": false
}

###

### Add External Alarm - Error Case (Missing Required Fields - Validation Failure)
POST {{API_HostAddress}}/api/monitoring/addexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000"
}

###

### Add External Alarm - Error Case (Unauthorized - No Token)
POST {{API_HostAddress}}/api/monitoring/addexternalalarm
Content-Type: application/json

{
  "alarmId": "550e8400-e29b-41d4-a716-446655440000",
  "itemId": "750e8400-e29b-41d4-a716-446655440002",
  "value": true,
  "isDisabled": false
}

###

### Update External Alarm - HTTP
# Update an existing external alarm configuration
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001",
  "itemId": "850e8400-e29b-41d4-a716-446655440003",
  "value": true,
  "isDisabled": false
}

###

### Update External Alarm - HTTPS
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001",
  "itemId": "750e8400-e29b-41d4-a716-446655440002",
  "value": false,
  "isDisabled": true
}

###

### Update External Alarm - Change Target Item
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001",
  "itemId": "950e8400-e29b-41d4-a716-446655440004",
  "value": true,
  "isDisabled": false
}

###

### Update External Alarm - Disable Temporarily
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001",
  "itemId": "750e8400-e29b-41d4-a716-446655440002",
  "value": true,
  "isDisabled": true
}

###

### Update External Alarm - Error Case (Not Found - Should Return 404)
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "00000000-0000-0000-0000-000000000000",
  "itemId": "750e8400-e29b-41d4-a716-446655440002",
  "value": true,
  "isDisabled": false
}

###

### Update External Alarm - Error Case (Invalid Item ID - Should Return 400)
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001",
  "itemId": "00000000-0000-0000-0000-000000000000",
  "value": true,
  "isDisabled": false
}

###

### Update External Alarm - Error Case (Missing Required Fields - Validation Failure)
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001"
}

###

### Update External Alarm - Error Case (Unauthorized - No Token)
POST {{API_HostAddress}}/api/monitoring/updateexternalalarm
Content-Type: application/json

{
  "id": "650e8400-e29b-41d4-a716-446655440001",
  "itemId": "750e8400-e29b-41d4-a716-446655440002",
  "value": true,
  "isDisabled": false
}

###

### Remove External Alarm - HTTP
POST {{API_HostAddress}}/api/monitoring/removeexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001"
}

###

### Remove External Alarm - HTTPS
POST {{API_HostAddress}}/api/monitoring/removeexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "id": "650e8400-e29b-41d4-a716-446655440001"
}

###

### Remove External Alarm - Error Case (Not Found - Should Return 404)
POST {{API_HostAddress}}/api/monitoring/removeexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "id": "00000000-0000-0000-0000-000000000000"
}

###

### Remove External Alarm - Error Case (Missing ID - Validation Failure)
POST {{API_HostAddress}}/api/monitoring/removeexternalalarm
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
}

###

### Remove External Alarm - Error Case (Unauthorized - No Token)
POST {{API_HostAddress}}/api/monitoring/removeexternalalarm
Content-Type: application/json

{
  "id": "650e8400-e29b-41d4-a716-446655440001"
}

###

### ========================================
### Batch Edit External Alarms (Add, Update, Delete in One Operation)
### ========================================

### Batch Edit External Alarms - Complete Operation (Add 2, Update 1, Delete 1) - HTTP
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440010",
      "value": true,
      "isDisabled": false
    },
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440011",
      "value": false,
      "isDisabled": false
    }
  ],
  "changed": [
    {
      "id": "750e8400-e29b-41d4-a716-446655440020",
      "itemId": "550e8400-e29b-41d4-a716-446655440012",
      "value": true,
      "isDisabled": false
    }
  ],
  "removed": [
    {
      "id": "750e8400-e29b-41d4-a716-446655440030"
    }
  ]
}

###

### Batch Edit External Alarms - Complete Operation (Add 2, Update 1, Delete 1) - HTTPS
POST {{API_HostAddressSSL}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440010",
      "value": true,
      "isDisabled": false
    },
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440011",
      "value": false,
      "isDisabled": false
    }
  ],
  "changed": [
    {
      "id": "750e8400-e29b-41d4-a716-446655440020",
      "itemId": "550e8400-e29b-41d4-a716-446655440012",
      "value": true,
      "isDisabled": false
    }
  ],
  "removed": [
    {
      "id": "750e8400-e29b-41d4-a716-446655440030"
    }
  ]
}

###

### Batch Edit External Alarms - Only Add Operations - HTTP
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440010",
      "value": true,
      "isDisabled": false
    },
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440011",
      "value": false,
      "isDisabled": true
    }
  ],
  "changed": [],
  "removed": []
}

###

### Batch Edit External Alarms - Only Update Operations - HTTP
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [],
  "changed": [
    {
      "id": "750e8400-e29b-41d4-a716-446655440020",
      "itemId": "550e8400-e29b-41d4-a716-446655440012",
      "value": false,
      "isDisabled": true
    },
    {
      "id": "750e8400-e29b-41d4-a716-446655440021",
      "itemId": "550e8400-e29b-41d4-a716-446655440013",
      "value": true,
      "isDisabled": false
    }
  ],
  "removed": []
}

###

### Batch Edit External Alarms - Only Delete Operations - HTTP
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [],
  "changed": [],
  "removed": [
    {
      "id": "750e8400-e29b-41d4-a716-446655440030"
    },
    {
      "id": "750e8400-e29b-41d4-a716-446655440031"
    }
  ]
}

###

### Batch Edit External Alarms - Error Case (Parent Alarm Not Found - Should Return 404)
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "00000000-0000-0000-0000-000000000000",
  "added": [
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440010",
      "value": true,
      "isDisabled": false
    }
  ],
  "changed": [],
  "removed": []
}

###

### Batch Edit External Alarms - Error Case (Target Item Not Found for Addition - Should Return 404)
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [
    {
      "itemId": "00000000-0000-0000-0000-000000000000",
      "value": true,
      "isDisabled": false
    }
  ],
  "changed": [],
  "removed": []
}

###

### Batch Edit External Alarms - Error Case (External Alarm Not Found for Update - Should Return 404)
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [],
  "changed": [
    {
      "id": "00000000-0000-0000-0000-000000000000",
      "itemId": "550e8400-e29b-41d4-a716-446655440012",
      "value": true,
      "isDisabled": false
    }
  ],
  "removed": []
}

###

### Batch Edit External Alarms - Error Case (Missing ID in Changed Item - Validation Failure)
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [],
  "changed": [
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440012",
      "value": true,
      "isDisabled": false
    }
  ],
  "removed": []
}

###

### Batch Edit External Alarms - Error Case (Missing AlarmId - Validation Failure)
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "added": [
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440010",
      "value": true,
      "isDisabled": false
    }
  ],
  "changed": [],
  "removed": []
}

###

### Batch Edit External Alarms - Error Case (Unauthorized - No Token)
POST {{API_HostAddress}}/api/monitoring/batcheditexternalalarms
Content-Type: application/json

{
  "alarmId": "650e8400-e29b-41d4-a716-446655440001",
  "added": [
    {
      "itemId": "550e8400-e29b-41d4-a716-446655440010",
      "value": true,
      "isDisabled": false
    }
  ],
  "changed": [],
  "removed": []
}

###

### ========================================
### Audit Log Endpoints
### ========================================

### Get Audit Logs - All Items (Last 7 Days)
POST {{API_HostAddress}}/api/monitoring/auditlog
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "startDate": 1728950400,
  "endDate": 1729555200,
  "itemId": null
}

###

### Get Audit Logs - Specific Item
POST {{API_HostAddress}}/api/monitoring/auditlog
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "startDate": 1728950400,
  "endDate": 1729555200,
  "itemId": "550e8400-e29b-41d4-a716-446655440001"
}

###

### Get Audit Logs - Last 24 Hours (All Items)
POST {{API_HostAddress}}/api/monitoring/auditlog
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "startDate": 1729468800,
  "endDate": 1729555200
}

###

### Get Audit Logs - Invalid Date Range (should return 400)
POST {{API_HostAddress}}/api/monitoring/auditlog
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "startDate": 1729555200,
  "endDate": 1728950400
}

###

### Get Audit Logs - Invalid ItemId Format (should return 400)
POST {{API_HostAddress}}/api/monitoring/auditlog
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "startDate": 1728950400,
  "endDate": 1729555200,
  "itemId": "invalid-guid-format"
}

###

### Get Audit Logs - Negative Timestamps (should return 400)
POST {{API_HostAddress}}/api/monitoring/auditlog
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "startDate": -1,
  "endDate": 1729555200
}

###

### Get Audit Logs - Unauthorized (should return 401)
POST {{API_HostAddress}}/api/monitoring/auditlog
Content-Type: application/json

{
  "startDate": 1728950400,
  "endDate": 1729555200
}

###

### ========================================
### SignalR Hub Documentation
### ========================================

### View SignalR Hubs in Swagger UI
# SignalR hubs are now documented in Swagger UI with full method signatures
# 
# To view SignalR hub documentation:
# 1. Start the API: dotnet run
# 2. Navigate to: http://localhost:5030/swagger
# 3. Look for the "SignalR - Monitoring Hub" tag
# 4. Expand to see hub methods with parameters and descriptions
# 
# Note: SignalR hubs use WebSocket connections, not HTTP requests,
# so you cannot invoke them directly from Swagger UI. Use the Swagger
# documentation to understand the API, then connect via SignalR client.
#
# For implementation details, see: SIGNALR-SWAGGER-IMPLEMENTATION.md

###

### Get SignalR Hub Information - HTTP (No Auth Required)
# Returns complete SignalR hub documentation including:
# - Hub name and endpoint URL
# - Server methods (callable from client)
# - Client methods (invoked by server)
# - Authentication requirements
# - Connection examples for JavaScript, C#, and Python
GET {{API_HostAddress}}/api/monitoring/SignalRHubInfo

###

### Get SignalR Hub Information - With detailed response
GET {{API_HostAddress}}/api/monitoring/SignalRHubInfo
Accept: application/json

###

# SignalR Hub Connection Information:
# 
# Hub URL: http://localhost:5030/monitoringhub
# Authentication: JWT Bearer token required
# 
# Server Methods (callable from client):
# - SubscribeToActiveAlarms() - Subscribe to receive real-time active alarm updates
# 
# Client Methods (invoked by server):
# - ReceiveActiveAlarmsUpdate(int activeAlarmsCount) - Receives active alarm count updates
# 
# JavaScript Connection Example:
# import * as signalR from '@microsoft/signalr';
# const connection = new signalR.HubConnectionBuilder()
#     .withUrl('http://localhost:5030/monitoringhub', {
#         accessTokenFactory: () => localStorage.getItem('jwt_token')
#     })
#     .withAutomaticReconnect()
#     .build();
# 
# connection.on('ReceiveActiveAlarmsUpdate', (count) => {
#     console.log(`Active alarms: ${count}`);
# });
# 
# await connection.start();
# await connection.invoke('SubscribeToActiveAlarms');

###

### Write or Add Value to Monitoring Item
POST {{API_HostAddress}}/api/monitoring/WriteOrAddValue
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000",
  "value": "25.7",
  "time": 1697587200,
  "duration": 60
}

###

### Write or Add Value to Monitoring Item (without timestamp and duration - uses current time and no duration limit)
POST {{API_HostAddress}}/api/monitoring/WriteOrAddValue
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000",
  "value": "42.3"
}

###

### Write or Add Value - Error Case (missing required fields)
POST {{API_HostAddress}}/api/monitoring/WriteOrAddValue
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "itemId": "00000000-0000-0000-0000-000000000000",
  "value": ""
}

###

### Write Value Directly to Controller
POST {{API_HostAddress}}/api/monitoring/WriteValue
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000",
  "value": "75.5",
  "time": 1697587200,
  "duration": 120
}

###

### Write Value to Controller (without timestamp and duration)
POST {{API_HostAddress}}/api/monitoring/WriteValue
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "itemId": "550e8400-e29b-41d4-a716-446655440000",
  "value": "80.0"
}

###
### Edit Monitoring Item - Complete Configuration
POST {{API_HostAddress}}/api/monitoring/EditItem
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "itemType": 3,
  "itemName": "Temperature Sensor 1 - Updated",
  "pointNumber": 101,
  "shouldScale": 1,
  "normMin": 0,
  "normMax": 100,
  "scaleMin": -50,
  "scaleMax": 150,
  "saveInterval": 60,
  "saveHistoricalInterval": 300,
  "calculationMethod": 1,
  "numberOfSamples": 10,
  "onText": "Running",
  "offText": "Stopped",
  "unit": "°C",
  "isDisabled": false
}

###

### Edit Monitoring Item - Digital Input Example
POST {{API_HostAddress}}/api/monitoring/EditItem
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "id": "550e8400-e29b-41d4-a716-446655440001",
  "itemType": 1,
  "itemName": "Motor Status Switch",
  "pointNumber": 205,
  "shouldScale": 2,
  "normMin": 0,
  "normMax": 1,
  "scaleMin": 0,
  "scaleMax": 1,
  "saveInterval": 30,
  "saveHistoricalInterval": 120,
  "calculationMethod": 0,
  "numberOfSamples": 1,
  "onText": "Motor Running",
  "offText": "Motor Stopped",
  "unit": "",
  "isDisabled": false
}

###

### Edit Monitoring Item - Error Case (Duplicate Point Number)
POST {{API_HostAddress}}/api/monitoring/EditItem
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "itemType": 3,
  "itemName": "Test Item",
  "pointNumber": 999999,
  "shouldScale": 1,
  "normMin": 0,
  "normMax": 100,
  "scaleMin": 0,
  "scaleMax": 100,
  "saveInterval": 60,
  "saveHistoricalInterval": 300,
  "calculationMethod": 1,
  "numberOfSamples": 10,
  "onText": "",
  "offText": "",
  "unit": "",
  "isDisabled": false
}

###

### Edit Monitoring Item - Error Case (Item Not Found)
POST {{API_HostAddress}}/api/monitoring/EditItem
Content-Type: application/json
Authorization: Bearer {{access_token}}

{
  "id": "00000000-0000-0000-0000-000000000000",
  "itemType": 3,
  "itemName": "Non-existent Item",
  "pointNumber": 100,
  "shouldScale": 1,
  "normMin": 0,
  "normMax": 100,
  "scaleMin": 0,
  "scaleMax": 100,
  "saveInterval": 60,
  "saveHistoricalInterval": 300,
  "calculationMethod": 1,
  "numberOfSamples": 10,
  "onText": "",
  "offText": "",
  "unit": "",
  "isDisabled": false
}

###

#################################################################################
# MONITORING CONTROLLER - SYSTEM SETTINGS & VERSION ENDPOINTS
#################################################################################

### Get system settings version - HTTP
# Retrieves version information for cache invalidation
# Version: Global system settings version
# UserVersion: User-specific settings version
GET {{API_HostAddress}}/api/monitoring/SettingsVersion
Authorization: Bearer {{authTokenHTTP}}

###

### Get system settings version - HTTPS
# Retrieves version information for cache invalidation
# Version: Global system settings version
# UserVersion: User-specific settings version
GET {{API_HostAddress}}/api/monitoring/SettingsVersion
Authorization: Bearer {{authTokenHTTPS}}

###

### Push settings update notification - HTTP (Admin only)
# Triggers a SignalR notification to all connected clients to refresh their data
# Requires Admin role
# Broadcasts ReceiveSettingsUpdate() to all connected SignalR clients
POST {{API_HostAddress}}/api/monitoring/PushUpdate
Content-Type: application/json
Authorization: Bearer {{authTokenHTTP}}

{
  "message": "Manual settings refresh triggered after bulk configuration update"
}

###

### Push settings update notification - HTTPS (Admin only)
# Triggers a SignalR notification to all connected clients to refresh their data
# Requires Admin role
# Broadcasts ReceiveSettingsUpdate() to all connected SignalR clients
POST {{API_HostAddress}}/api/monitoring/PushUpdate
Content-Type: application/json
Authorization: Bearer {{authTokenHTTPS}}

{
  "message": "Manual settings refresh triggered after bulk configuration update"
}

###
