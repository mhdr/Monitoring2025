var n,r,t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function a(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}const e=a(function o(){if(r)return n;r=1;var t=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function a(n,r,t){return d(u(n,r,t))}function e(n){return 0===i(n)}function o(n,r){return r<=6?31:r<=11||e(n)?30:29}function i(n){var r,a,e,o,i,l=t.length,u=t[0];if(n<u||n>=t[l-1])throw new Error("Invalid Jalaali year "+n);for(i=1;i<l&&(a=(r=t[i])-u,!(n<r));i+=1)u=r;return a-(o=n-u)<6&&(o=o-a+33*y(a+4,33)),-1===(e=j(j(o+1,33)-1,4))&&(e=4),e}function l(n,r){var a,e,o,i,l,u,f=t.length,c=n+621,d=-14,g=t[0];if(n<g||n>=t[f-1])throw new Error("Invalid Jalaali year "+n);for(u=1;u<f&&(e=(a=t[u])-g,!(n<a));u+=1)d=d+8*y(e,33)+y(j(e,33),4),g=a;return d=d+8*y(l=n-g,33)+y(j(l,33)+3,4),4===j(e,33)&&e-l===4&&(d+=1),i=20+d-(y(c,4)-y(3*(y(c,100)+1),4)-150),r?{gy:c,march:i}:(e-l<6&&(l=l-e+33*y(e+4,33)),-1===(o=j(j(l+1,33)-1,4))&&(o=4),{leap:o,gy:c,march:i})}function u(n,r,t){var a=l(n,!0);return c(a.gy,3,a.march)+31*(r-1)-y(r,7)*(r-7)+t-1}function f(n){var r,t=d(n).gy,a=t-621,e=l(a,!1);if((r=n-c(t,3,e.march))>=0){if(r<=185)return{jy:a,jm:1+y(r,31),jd:j(r,31)+1};r-=186}else a-=1,r+=179,1===e.leap&&(r+=1);return{jy:a,jm:7+y(r,30),jd:j(r,30)+1}}function c(n,r,t){var a=y(1461*(n+y(r-8,6)+100100),4)+y(153*j(r+9,12)+2,5)+t-34840408;return a-y(3*y(n+100100+y(r-8,6),100),4)+752}function d(n){var r,t,a,e;return r=(r=4*n+139361631)+4*y(3*y(4*n+183187720,146097),4)-3908,t=5*y(j(r,1461),4)+308,a=y(j(t,153),5)+1,e=j(y(t,153),12)+1,{gy:y(r,1461)-100100+y(8-e,6),gm:e,gd:a}}function g(n,r,t,e,o,i,l){var u=a(n,r,t);return new Date(u.gy,u.gm-1,u.gd,e||0,o||0,i||0,l||0)}function y(n,r){return~~(n/r)}function j(n,r){return n-~~(n/r)*r}return n={toJalaali:function h(n,r,t){return"[object Date]"===Object.prototype.toString.call(n)&&(t=n.getDate(),r=n.getMonth()+1,n=n.getFullYear()),f(c(n,r,t))},toGregorian:a,isValidJalaaliDate:function s(n,r,t){return n>=-61&&n<=3177&&r>=1&&r<=12&&t>=1&&t<=o(n,r)},isLeapJalaaliYear:e,jalaaliMonthLength:o,jalCal:l,j2d:u,d2j:f,g2d:c,d2g:d,jalaaliToDateObject:g,jalaaliWeek:function p(n,r,t){var a=g(n,r,t).getDay(),e=6==a?0:-(a+1),o=6+e;return{saturday:f(u(n,r,t+e)),friday:f(u(n,r,t+o))}}}}());export{t as c,a as g,e as j};
