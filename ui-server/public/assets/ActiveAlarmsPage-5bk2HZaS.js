import{bI as a,bQ as e,bH as t}from"./vendor-TAwwu7tv.js";import{a as r,e as i,c as l,A as s,m as n,n as c}from"./layout-C1_h6sDC.js";import{u as o,a as d}from"./index-uPr0P1lU.js";import{f as m}from"./dateFormatting-Oyh3Sj-d.js";import{C as f,B as u,q as v,_ as x,a as g,w as h,v as p,D as j,r as y,j as b,c as A,s as w,x as I,P as $,a1 as P,a2 as S,a3 as C,a4 as F,a5 as z,a6 as k,h as N,R as D,y as W,I as T}from"./mui-core-im59jMHH.js";import{R,k as E,W as M,w as U,N as L,a9 as Z,aa as V,t as X,ab as B}from"./mui-icons-v3eeVnKX.js";import"./date-utils-hKKKzaQW.js";import"./i18n-BrX_VL2O.js";import"./react-router-B0bL9ISA.js";import"./syncfusion-Czakt5fS.js";const G=l(),K=()=>{const{language:l}=r(),{t:K}=o(),{state:q,updateActiveAlarms:H}=i(),{reconnect:O}=d(),Q=q.activeAlarms,_="fa"===l,[J,Y]=a.useState([]),[aa,ea]=a.useState(!0),[ta,ra]=a.useState(null),[ia,la]=a.useState(!1),[sa,na]=a.useState(!1),[ca,oa]=a.useState(null),[da,ma]=a.useState([]),[fa,ua]=a.useState([]),[va,xa]=a.useState([]),[ga,ha]=a.useState(new Set),[pa,ja]=a.useState(!1),ya=a.useRef(null),ba=a.useMemo(()=>{const a=new Map;return da.forEach(e=>{const t=_&&e.nameFa?e.nameFa:e.name;a.set(e.id,t)}),G.log("Created items lookup map:",{size:a.size}),a},[da,_]),Aa=a.useMemo(()=>{const a=new Map;return fa.forEach(e=>{if(e.id){const t=_&&e.messageFa?e.messageFa:e.message||`${e.alarmType||"Unknown"} Alarm`;a.set(e.id,t)}}),G.log("Created alarms lookup map:",{size:a.size}),a},[fa,_]);a.useEffect(()=>{(async()=>{try{G.log("Loading stored items and alarms from Zustand store...");const[a,e]=await Promise.all([n.getStoredItems(),n.getStoredAlarms()]);a&&Array.isArray(a)?(ma(a),G.log("Loaded items from Zustand store:",{count:a.length})):(G.warn("No valid items array found in Zustand store"),ma([]));let t=[];if(e)if(Array.isArray(e))t=e;else if("object"==typeof e&&"data"in e){const a=e;Array.isArray(a.data)&&(t=a.data)}t.length>0?(ua(t),G.log("Loaded alarms from Zustand store:",{count:t.length})):(G.warn("No alarms found in Zustand store"),ua([]))}catch(a){G.error("Failed to load stored data from Zustand store:",a),ma([]),ua([])}})()},[]);const wa=a.useCallback(async(a,e=!1)=>{try{e&&ja(!0),G.log("Fetching instantaneous values for alarmed items...",{isAutoRefresh:e});const t=Array.from(new Set(a.map(a=>a.itemId).filter(a=>null!=a)));if(0===t.length)return G.warn("No valid itemIds found in alarms"),xa([]),void ja(!1);G.log("Fetching values for itemIds:",{count:t.length,itemIds:t});const r=await s({itemIds:t});G.log("Instantaneous values fetched successfully:",{count:r.values?.length||0,values:r.values});const i=r.values||[],l=new Set;i.forEach(a=>{if(a.itemId&&null!==a.value){const e=va.find(e=>e.itemId===a.itemId);e&&e.value!==a.value&&l.add(a.itemId)}}),ha(l),l.size>0&&setTimeout(()=>{ha(new Set)},2e3),xa(i)}catch(t){G.error("Error fetching instantaneous values:",t),xa([])}finally{ja(!1)}},[va]),Ia=a.useCallback(async(a=!1)=>{try{a?(la(!0),G.log("Refreshing active alarms...")):(ea(!0),G.log("Fetching active alarms...")),ra(null),G.log("Retrieving items from Zustand store...");const e=await n.getStoredItems();if(!e||0===e.length)return G.warn("No items found in Zustand store, cannot fetch active alarms"),ra(K("activeAlarmsPage.noItemsAvailable")),Y([]),void oa(Date.now());const t=e.map(a=>a.id).filter(a=>null!=a);if(G.log("Extracted itemIds from stored items:",{totalItems:e.length,itemIdsCount:t.length}),0===t.length)return G.warn("No valid itemIds found in stored items"),ra(K("activeAlarmsPage.noItemsAvailable")),Y([]),void oa(Date.now());const r=(await c({itemIds:t})).data.data||[];G.log("Active alarms fetched successfully:",{count:r.length,alarms:r}),Y(r),oa(Date.now()),H(r.length,Date.now()),r.length>0?wa(r):xa([])}catch(e){G.error("Error fetching active alarms:",e),ra(K("activeAlarmsPage.errorLoadingAlarms"))}finally{ea(!1),la(!1)}},[K,wa,H]);a.useEffect(()=>(G.log("⭐⭐⭐ ActiveAlarmsPage MOUNTED ⭐⭐⭐"),Ia(!1),()=>{G.log("❌❌❌ ActiveAlarmsPage UNMOUNTING ❌❌❌")}),[]),a.useEffect(()=>{Q.lastUpdate&&ca&&Q.lastUpdate>ca&&!aa&&!ia&&(G.log("Alarm count changed via stream, refetching active alarms...",{newCount:Q.alarmCount,lastUpdate:Q.lastUpdate,lastFetch:ca}),Ia(!0))},[Q.lastUpdate,Q.alarmCount]);const $a=()=>{Ia(!0)},Pa=a.useCallback(async()=>{try{na(!0),G.log("User initiated SignalR reconnection..."),await O(),G.log("SignalR reconnection successful")}catch(a){G.error("Failed to reconnect to SignalR:",a)}finally{na(!1)}},[O]),Sa=a.useCallback(a=>m(a,l,"short"),[l]),Ca=a.useMemo(()=>ca?m(ca,l,"short"):null,[ca,l]),Fa=a.useCallback(a=>va.find(e=>e.itemId===a),[va]),za=a.useCallback((a,e)=>{if(null==e)return K("noValue");if(1===a.itemType||2===a.itemType)return"true"===e||"1"===e?_&&a.onTextFa?a.onTextFa:a.onText||K("on"):_&&a.offTextFa?a.offTextFa:a.offText||K("off");const t=parseFloat(e);if(!isNaN(t)){const e=_&&a.unitFa?a.unitFa:a.unit||"";return e?`${t} ${e}`:t.toString()}return e},[K,_]),ka=a.useCallback((a,e,t)=>{if(!e||!t||1===a.itemType||2===a.itemType)return null;const r=parseFloat(t);if(isNaN(r))return null;const i=e.value1?parseFloat(e.value1):null,l=e.value2?parseFloat(e.value2):null,s=_?a.unitFa:a.unit,n=s?` ${s}`:"";if(3===e.compareType&&null!==i){const a=Math.min(100,Math.max(0,r/i*100));return{percentage:a,color:a>=100?"error":a>=90?"warning":"success",labelKey:"activeAlarmsPage.highLimit",labelValue:`${i}${n}`}}if(4===e.compareType&&null!==i){const a=Math.min(100,Math.max(0,r/i*100));return{percentage:a,color:a<=0?"error":a<=10?"warning":"success",labelKey:"activeAlarmsPage.lowLimit",labelValue:`${i}${n}`}}if(5===e.compareType&&null!==i&&null!==l){const a=Math.abs(l-i),e=Math.min(i,l),t=Math.max(i,l);return{percentage:a>0?(r-e)/a*100:50,color:r<e||r>t?"error":"success",labelKey:"activeAlarmsPage.range",labelValue:`${e} - ${t}${n}`}}return null},[_]),Na=a.useCallback(a=>1===a?K("activeAlarmsPage.priorityWarning"):2===a?K("activeAlarmsPage.priorityAlarm"):"-",[K]),Da=a.useCallback(a=>1===a?"warning":2===a?"error":"default",[]),Wa=a.useCallback(a=>{switch(a){case 1:return K("activeAlarmsPage.conditionEqual");case 2:return K("activeAlarmsPage.conditionNotEqual");case 3:return K("activeAlarmsPage.conditionHigher");case 4:return K("activeAlarmsPage.conditionLower");case 5:return K("activeAlarmsPage.conditionBetween");default:return"-"}},[K]),Ta=a.useCallback(a=>null==a||0===a?K("activeAlarmsPage.noDelay"):K("activeAlarmsPage.delaySeconds",{seconds:a}),[K]),Ra=a.useCallback((a,e)=>{if(!a)return"-";const t=a.value1,r=a.value2,i=e?_?e.unitFa:e.unit:"",l=i?` ${i}`:"";return 5===a.compareType&&t&&r?K("activeAlarmsPage.thresholdRange",{min:t,max:r})+l:t?K("activeAlarmsPage.thresholdValue",{value:t})+l:"-"},[K,_]);return a.useEffect(()=>{if(J.length>0)return G.log("Starting automatic value refresh interval (5 seconds)"),ya.current&&window.clearInterval(ya.current),ya.current=window.setInterval(()=>{J.length>0&&(G.log("Auto-refreshing instantaneous values..."),wa(J,!0))},5e3),()=>{ya.current&&(G.log("Clearing value refresh interval"),window.clearInterval(ya.current),ya.current=null)};ya.current&&(G.log("Clearing value refresh interval (no alarms)"),window.clearInterval(ya.current),ya.current=null)},[J,wa]),e.jsx(f,{maxWidth:!1,sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",py:3,px:{xs:2,sm:3}},"data-id-ref":"active-alarms-page-container",children:e.jsx(u,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},"data-id-ref":"active-alarms-page-content",children:e.jsxs(v,{sx:{height:"100%",display:"flex",flexDirection:"column"},"data-id-ref":"active-alarms-page-card",children:[e.jsx(x,{title:e.jsx(g,{variant:"h5",component:"h1","data-id-ref":"active-alarms-page-title",children:K("activeAlarmsPage.title")}),action:e.jsxs(h,{direction:"row",spacing:1,alignItems:"center","data-id-ref":"active-alarms-header-actions",children:[(()=>{let a,t,r,i=!1;switch(Q.streamStatus){case"connected":a=e.jsx(B,{}),t=K("activeAlarmsPage.streamConnected"),r="success";break;case"connecting":a=e.jsx(b,{size:16}),t=K("activeAlarmsPage.streamConnecting"),r="info";break;case"error":a=e.jsx(X,{}),t=K("activeAlarmsPage.streamError"),r="error",i=!0;break;default:a=e.jsx(V,{}),t=K("activeAlarmsPage.streamDisconnected"),r="warning",i=!0}return e.jsxs(h,{direction:"row",spacing:.5,alignItems:"center","data-id-ref":"active-alarms-stream-status-container",children:[e.jsx(I,{icon:a,label:t,color:r,size:"small",variant:"outlined","data-id-ref":"active-alarms-stream-status-chip"}),i&&e.jsx(N,{title:K("activeAlarmsPage.reconnectTooltip"),"data-id-ref":"active-alarms-reconnect-tooltip",children:e.jsx(T,{size:"small",color:r,onClick:Pa,disabled:sa,"data-id-ref":"active-alarms-reconnect-button","aria-label":K("activeAlarmsPage.reconnect"),children:sa?e.jsx(b,{size:20}):e.jsx(R,{fontSize:"small"})})})]})})(),e.jsx(p,{variant:"outlined",startIcon:e.jsx(R,{}),onClick:$a,disabled:aa||ia,size:"small","data-id-ref":"active-alarms-refresh-button",children:K(ia?"activeAlarmsPage.refreshing":"refresh")})]}),subheader:Ca?e.jsx(g,{variant:"caption",color:"text.secondary","data-id-ref":"active-alarms-last-updated",children:`${K("activeAlarmsPage.lastUpdated")}: ${Ca}`}):null,"data-id-ref":"active-alarms-page-header"}),e.jsx(j,{}),e.jsxs(y,{sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"auto"},"data-id-ref":"active-alarms-page-body",children:[aa&&e.jsxs(u,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8},"data-id-ref":"active-alarms-loading-state",children:[e.jsx(b,{size:48,sx:{mb:2},"data-id-ref":"active-alarms-loading-spinner"}),e.jsx(g,{variant:"body1",color:"text.secondary","data-id-ref":"active-alarms-loading-text",children:K("activeAlarmsPage.loadingAlarms")})]}),!aa&&ta&&e.jsxs(A,{severity:"error",action:e.jsx(p,{color:"inherit",size:"small",onClick:$a,"data-id-ref":"active-alarms-error-retry",children:K("activeAlarmsPage.retryLoading")}),"data-id-ref":"active-alarms-error-alert",children:[e.jsx(w,{"data-id-ref":"active-alarms-error-title",children:K("activeAlarmsPage.errorLoadingAlarms")}),ta]}),!aa&&!ta&&0===J.length&&e.jsxs(u,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:8},"data-id-ref":"active-alarms-empty-state",children:[e.jsx(E,{sx:{fontSize:64,color:"success.main",mb:2},"data-id-ref":"active-alarms-empty-icon"}),e.jsx(g,{variant:"h6",gutterBottom:!0,"data-id-ref":"active-alarms-empty-title",children:K("activeAlarmsPage.noActiveAlarms")}),e.jsx(g,{variant:"body2",color:"text.secondary","data-id-ref":"active-alarms-empty-description",children:K("activeAlarmsPage.noActiveAlarmsDescription")})]}),!aa&&!ta&&J.length>0&&e.jsxs(u,{sx:{flexGrow:1},"data-id-ref":"active-alarms-content-container",children:[e.jsxs(u,{sx:{mb:2,display:"flex",flexDirection:"column",gap:1.5},"data-id-ref":"active-alarms-count-container",children:[e.jsx(I,{icon:e.jsx(M,{"data-id-ref":"active-alarms-count-icon"}),label:`${J.length} ${K("activeAlarmsPage.alarmCount")}`,color:"error","data-id-ref":"active-alarms-count-chip"}),e.jsxs($,{variant:"outlined",sx:{p:1.5,bgcolor:"background.default",border:1,borderColor:"divider"},"data-id-ref":"active-alarms-legend-container",children:[e.jsxs(g,{variant:"caption",sx:{fontWeight:600,color:"text.secondary",mb:1,display:"block"},"data-id-ref":"active-alarms-legend-title",children:[K("activeAlarmsPage.thresholdIndicatorLegend"),":"]}),e.jsxs(u,{sx:{display:"flex",gap:2,flexWrap:"wrap"},"data-id-ref":"active-alarms-legend-items",children:[e.jsxs(u,{sx:{display:"flex",alignItems:"center",gap:.5},"data-id-ref":"active-alarms-legend-normal",children:[e.jsx(u,{sx:{width:24,height:8,bgcolor:"success.main",borderRadius:1},"data-id-ref":"active-alarms-legend-normal-bar"}),e.jsx(g,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:K("activeAlarmsPage.legendNormal")})]}),e.jsxs(u,{sx:{display:"flex",alignItems:"center",gap:.5},"data-id-ref":"active-alarms-legend-warning",children:[e.jsx(u,{sx:{width:24,height:8,bgcolor:"warning.main",borderRadius:1},"data-id-ref":"active-alarms-legend-warning-bar"}),e.jsx(g,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:K("activeAlarmsPage.legendWarning")})]}),e.jsxs(u,{sx:{display:"flex",alignItems:"center",gap:.5},"data-id-ref":"active-alarms-legend-critical",children:[e.jsx(u,{sx:{width:24,height:8,bgcolor:"error.main",borderRadius:1},"data-id-ref":"active-alarms-legend-critical-bar"}),e.jsx(g,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:K("activeAlarmsPage.legendCritical")})]})]})]})]}),e.jsx(P,{component:$,variant:"outlined","data-id-ref":"active-alarms-table-wrapper",children:e.jsxs(S,{size:"small","data-id-ref":"active-alarms-table",children:[e.jsx(C,{"data-id-ref":"active-alarms-table-head",children:e.jsxs(F,{children:[e.jsx(z,{"data-id-ref":"active-alarms-table-header-item-name",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.itemName")})}),e.jsx(z,{"data-id-ref":"active-alarms-table-header-alarm-message",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.alarmMessage")})}),e.jsx(z,{"data-id-ref":"active-alarms-table-header-priority",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.priority")})}),e.jsx(z,{"data-id-ref":"active-alarms-table-header-condition",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.condition")})}),e.jsx(z,{"data-id-ref":"active-alarms-table-header-threshold",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.threshold")})}),e.jsx(z,{"data-id-ref":"active-alarms-table-header-delay",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.delay")})}),e.jsx(z,{"data-id-ref":"active-alarms-table-header-external-alarm",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.externalAlarm")})}),e.jsx(z,{"data-id-ref":"active-alarms-table-header-triggered-at",children:e.jsx(g,{variant:"subtitle2",fontWeight:"bold",children:K("activeAlarmsPage.triggeredAt")})})]})}),e.jsx(k,{"data-id-ref":"active-alarms-table-body",children:J.map((a,r)=>{const i=a.alarmId?Aa.get(a.alarmId)||a.alarmId:"-",l=a.itemId?ba.get(a.itemId)||a.itemId:"-",s=da.find(e=>e.id===a.itemId),n=a.itemId?Fa(a.itemId):null,c=fa.find(e=>e.id===a.alarmId);return e.jsxs(t.Fragment,{children:[e.jsxs(F,{hover:!0,"data-id-ref":`active-alarm-row-${r}`,children:[e.jsx(z,{"data-id-ref":`active-alarm-item-name-${r}`,children:e.jsx(g,{variant:"body2",children:l})}),e.jsx(z,{"data-id-ref":`active-alarm-message-${r}`,children:e.jsx(g,{variant:"body2",children:i})}),e.jsx(z,{"data-id-ref":`active-alarm-priority-${r}`,children:e.jsx(I,{label:Na(c?.alarmPriority),color:Da(c?.alarmPriority),size:"small",sx:{minWidth:80},"data-id-ref":`active-alarm-priority-chip-${r}`})}),e.jsx(z,{"data-id-ref":`active-alarm-condition-${r}`,children:e.jsx(g,{variant:"body2",children:Wa(c?.compareType)})}),e.jsx(z,{"data-id-ref":`active-alarm-threshold-${r}`,children:e.jsx(g,{variant:"body2",sx:{fontFamily:_?"IRANSansX, sans-serif":"monospace"},children:Ra(c,s)})}),e.jsx(z,{"data-id-ref":`active-alarm-delay-${r}`,children:e.jsxs(u,{sx:{display:"flex",alignItems:"center",gap:.5},"data-id-ref":`active-alarm-delay-box-${r}`,children:[c?.alarmDelay&&c.alarmDelay>0&&e.jsx(U,{sx:{fontSize:16,color:"text.secondary"},"data-id-ref":`active-alarm-delay-icon-${r}`}),e.jsx(g,{variant:"body2",sx:{fontFamily:_?"IRANSansX, sans-serif":void 0},"data-id-ref":`active-alarm-delay-text-${r}`,children:Ta(c?.alarmDelay)})]})}),e.jsx(z,{"data-id-ref":`active-alarm-external-${r}`,children:e.jsx(N,{title:K(c?.hasExternalAlarm?"activeAlarmsPage.externalAlarmEnabled":"activeAlarmsPage.externalAlarmDisabled"),arrow:!0,children:c?.hasExternalAlarm?e.jsx(L,{sx:{fontSize:20,color:"warning.main"},"data-id-ref":`active-alarm-external-icon-active-${r}`}):e.jsx(Z,{sx:{fontSize:20,color:"text.disabled"},"data-id-ref":`active-alarm-external-icon-inactive-${r}`})})}),e.jsx(z,{"data-id-ref":`active-alarm-time-${r}`,children:e.jsx(g,{variant:"body2",sx:{fontFamily:_?"IRANSansX, sans-serif":void 0},children:Sa(a.time)})})]}),s&&n&&e.jsx(F,{"data-id-ref":`active-alarm-values-row-${r}`,children:e.jsx(z,{colSpan:8,sx:{bgcolor:"action.hover",borderBottom:r<J.length-1?1:0,borderColor:"divider"},"data-id-ref":`active-alarm-values-cell-${r}`,children:e.jsxs(u,{sx:{py:1,px:1,display:"flex",flexDirection:"column",gap:1},"data-id-ref":`active-alarm-values-container-${r}`,children:[e.jsxs(u,{sx:{display:"flex",alignItems:"center",gap:1},"data-id-ref":`active-alarm-values-header-${r}`,children:[e.jsxs(g,{variant:"caption",sx:{fontWeight:600,color:"text.secondary"},"data-id-ref":`active-alarm-values-label-${r}`,children:[K("activeAlarmsPage.instantaneousDataTitle"),":"]}),pa&&e.jsx(b,{size:12,thickness:4,"data-id-ref":`active-alarm-values-spinner-${r}`})]}),e.jsxs(u,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},"data-id-ref":`active-alarm-values-details-${r}`,children:[e.jsxs(u,{sx:{display:"flex",gap:.5,alignItems:"center"},"data-id-ref":`active-alarm-point-number-box-${r}`,children:[e.jsxs(g,{variant:"caption",sx:{fontWeight:600,color:"text.primary"},"data-id-ref":`active-alarm-point-number-label-${r}`,children:[K("pointNumber"),":"]}),e.jsx(g,{variant:"caption",sx:{color:"text.secondary",fontFamily:_?"IRANSansX, sans-serif":void 0},"data-id-ref":`active-alarm-point-number-value-${r}`,children:s.pointNumber})]}),e.jsxs(u,{sx:{display:"flex",gap:.5,alignItems:"center"},"data-id-ref":`active-alarm-value-box-${r}`,children:[e.jsxs(g,{variant:"caption",sx:{fontWeight:600,color:"text.primary"},"data-id-ref":`active-alarm-value-label-${r}`,children:[K("value"),":"]}),e.jsx(D,{in:!0,timeout:ga.has(a.itemId||"")?500:0,children:e.jsx(u,{sx:{display:"flex",alignItems:"center",gap:.5},"data-id-ref":`active-alarm-value-content-${r}`,children:e.jsx(g,{variant:"caption",sx:{color:ga.has(a.itemId||"")?"warning.main":"primary.main",fontWeight:600,transition:"color 0.3s ease-in-out",fontFamily:_?"IRANSansX, sans-serif":void 0},"data-id-ref":`active-alarm-value-text-${r}`,children:za(s,n.value)})})})]}),e.jsxs(u,{sx:{display:"flex",gap:.5,alignItems:"center"},"data-id-ref":`active-alarm-time-box-${r}`,children:[e.jsxs(g,{variant:"caption",sx:{fontWeight:600,color:"text.primary"},"data-id-ref":`active-alarm-time-label-${r}`,children:[K("time"),":"]}),e.jsx(g,{variant:"caption",sx:{color:"text.secondary",fontFamily:_?"IRANSansX, sans-serif":void 0},"data-id-ref":`active-alarm-time-value-${r}`,children:Sa(n.time)})]})]}),(()=>{const t=fa.find(e=>e.id===a.alarmId),i=ka(s,t,n.value);if(i){const a=`${K(i.labelKey)}: ${i.labelValue}`;return e.jsxs(u,{sx:{mt:1},"data-id-ref":`active-alarm-threshold-viz-${r}`,children:[e.jsx(W,{variant:"determinate",value:i.percentage,color:i.color,sx:{height:8,borderRadius:1,bgcolor:"action.selected"},"data-id-ref":`active-alarm-threshold-progress-${r}`}),e.jsxs(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:.5},"data-id-ref":`active-alarm-threshold-info-${r}`,children:[e.jsx(g,{variant:"caption",sx:{fontSize:"0.7rem",color:"text.secondary"},"data-id-ref":`active-alarm-threshold-label-${r}`,children:a}),e.jsxs(g,{variant:"caption",sx:{fontSize:"0.7rem",fontWeight:600,color:`${i.color}.main`},"data-id-ref":`active-alarm-threshold-percentage-${r}`,children:[Math.round(i.percentage),"%"]})]})]})}return null})()]})})})]},a.id||`alarm-${r}`)})})]})})]})]})]})})})};export{K as default};
